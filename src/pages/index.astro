---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout title="Inicio - ReposterÃ­a D'Rossy">
  <!-- Animaciones AOS-like personalizadas -->
  <style>
    /* â€”â€”â€” AnimaciÃ³n Scroll â€”â€”â€” */
    .fade-up {
      opacity: 0;
      transform: translateY(40px);
      transition: all 1s ease;
    }
    .fade-up.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* â€”â€”â€” Brillo en tarjetas â€”â€”â€” */
    .shine {
      position: relative;
      overflow: hidden;
    }
    .shine::before {
      content: "";
      position: absolute;
      top: 0;
      left: -120%;
      width: 80%;
      height: 100%;
      background: linear-gradient(
        120deg,
        transparent,
        rgba(255, 255, 255, 0.6),
        transparent
      );
      transform: skewX(-20deg);
      transition: 0.8s;
    }
    .shine:hover::before {
      left: 150%;
    }

    /* â€”â€”â€” Logo brillo cÃ­clico â€”â€”â€” */
    @keyframes glow {
      0% {
        filter: drop-shadow(0 0 4px #ff914d);
      }
      50% {
        filter: drop-shadow(0 0 15px #ffb26f);
      }
      100% {
        filter: drop-shadow(0 0 4px #ff914d);
      }
    }
    .logo-glow {
      animation: glow 2.5s infinite ease-in-out;
    }

    /* â€”â€”â€” Fondo cristal para testimonios â€”â€”â€” */
    .glass {
      backdrop-filter: blur(12px);
      background: rgba(255, 255, 255, 0.28);
      border: 1px solid rgba(255, 255, 255, 0.4);
    }

    /* â€”â€”â€” Temas â€”â€”â€” */
    body.valentin {
      background: linear-gradient(to bottom, #ffe0eb, #ffd1e3);
    }
    body.primavera {
      background: linear-gradient(to bottom, #d4ffe7, #beffd9);
    }
    body.navidad {
      background: linear-gradient(to bottom, #d4f1ff, #b6e5ff);
    }
  </style>

  <!-- Header flotante -->
  <header
    class="fixed top-0 left-0 w-full z-50 backdrop-blur-xl bg-white/40 dark:bg-black/40 shadow-lg border-b border-white/50 dark:border-white/10"
  >
    <div
      class="max-w-6xl mx-auto flex justify-between items-center py-4 px-6 text-orange-700 font-bold"
    >
      <a href="/" class="text-3xl logo-glow">ğŸ‚ D'Rossy</a>

      <nav class="hidden md:flex gap-6 font-semibold">
        <a href="/" class="hover:text-orange-500">Inicio</a>
        <a href="/catalogo" class="hover:text-orange-500">CatÃ¡logo</a>
        <a href="/nosotros" class="hover:text-orange-500">Nosotros</a>
        <a href="/login" class="hover:text-orange-500">Login</a>
        <a href="/carrito" class="hover:text-orange-500 text-2xl">ğŸ›’</a>
      </nav>

      <!-- Selector de tema -->
      <select
        id="modeSelect"
        class="bg-white/50 border px-2 py-1 rounded dark:bg-black/50"
        title="Cambiar tema"
      >
        <option value="normal">Normal</option>
        <option value="navidad">Navidad</option>
        <option value="valentin">San ValentÃ­n</option>
        <option value="primavera">Primavera</option>
      </select>
    </div>
  </header>

  <!-- Canvas nieve -->
  <canvas
    id="snowCanvas"
    class="fixed top-0 left-0 w-full h-full pointer-events-none z-0 hidden"
  ></canvas>

  <!-- POPUP PROMOCIÃ“N -->
  <div
    id="promoPopup"
    class="fixed top-0 left-0 w-full h-full bg-black/50 flex items-center justify-center z-50 hidden"
  >
    <div class="bg-white p-8 rounded-2xl shadow-2xl text-center max-w-sm">
      <h3 class="text-2xl font-bold text-orange-600 mb-3">
        ğŸ‰ Â¡PromociÃ³n Especial!
      </h3>
      <p class="text-gray-700">Aprovecha 10% OFF en tu primer pedido ğŸ’›</p>
      <button
        id="closePromo"
        class="mt-6 px-6 py-3 bg-orange-600 text-white rounded-xl shadow hover:bg-orange-700"
      >
        Â¡Genial!
      </button>
    </div>
  </div>

  <!-- HERO -->
  <section
    class="pt-32 fade-up max-w-6xl mx-auto px-6 mt-10 bg-gradient-to-r from-yellow-100/70 to-orange-200/70 dark:from-gray-700/40 dark:to-gray-900/40 rounded-2xl shadow-2xl backdrop-blur-xl p-10 border border-white/30 dark:border-white/10"
  >
    <div class="flex flex-col md:flex-row items-center gap-10">
      <div class="flex-1">
        <img
          src="/img/image.png"
          class="w-40 h-40 rounded-full shadow-2xl ring-4 ring-white/70 mx-auto md:mx-0 logo-glow"
        />

        <h1
          class="text-5xl md:text-6xl font-extrabold text-orange-700 mt-6 leading-tight dark:text-orange-300"
        >
          PastelerÃ­a artesanal hecha con amor
        </h1>
        <p class="text-xl mt-4 text-gray-700 dark:text-gray-300">
          Sabores Ãºnicos, frescos y preparados con dedicaciÃ³n.
        </p>

        <div class="mt-8 flex gap-4">
          <a
            href="/catalogo"
            class="px-6 py-3 bg-orange-600 text-white rounded-xl shadow-xl hover:bg-orange-700"
          >
            Ver catÃ¡logo
          </a>
          <a
            href="/nosotros"
            class="px-6 py-3 border-2 border-orange-600 text-orange-700 rounded-xl shadow-xl hover:bg-orange-100 dark:text-orange-300 dark:border-orange-300"
          >
            ConÃ³cenos
          </a>
        </div>
      </div>

      <img
        src="/img/LocalRossy.png"
        class="rounded-xl shadow-2xl w-full md:w-96 object-cover shine"
      />
    </div>
  </section>

<!-- SLIDER PRINCIPAL -->
<section class="max-w-6xl mx-auto mt-20 px-6">
  <h2 class="text-4xl font-bold text-center text-orange-600 mb-8">
    ğŸ  Productos Populares
  </h2>
  <div class="flex justify-center gap-6">
    <img src="/img/bob esponja.png" alt="Producto bob esponja" class="w-64 h-80 object-cover rounded-xl" />
    <img src="/img/PasttelPVZ.png" alt="Producto Pasttel PVZ" class="w-64 h-80 object-cover rounded-xl" />
    <img src="/img/corona.png" alt="Producto corona" class="w-64 h-80 object-cover rounded-xl" />
  </div>
</section>

<!-- SLIDER DE NUEVOS PRODUCTOS -->
<section class="max-w-6xl mx-auto mt-20 px-6">
  <h2 class="text-4xl font-bold text-center text-orange-600 mb-8">
    ğŸ†• Nuevos productos
  </h2>
  <div class="flex justify-center gap-6">
    <img src="/img/cachito.png" alt="Producto cachito" class="w-64 h-72 object-cover rounded-xl" />
    <img src="/img/galletaAjonjoli.png" alt="Producto galleta ajonjolÃ­" class="w-64 h-72 object-cover rounded-xl" />
    <img src="/img/keke.png" alt="Producto keke" class="w-64 h-72 object-cover rounded-xl" />
  </div>
</section>

  <!-- TESTIMONIOS CRISTAL -->
  <section class="max-w-6xl mx-auto mt-20 fade-up px-6">
    <h2 class="text-4xl font-bold text-center text-orange-600 mb-12 dark:text-orange-300">
      â­ Opiniones de nuestros clientes
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
      <div class="glass p-6 rounded-2xl shadow-xl text-center">
        <p class="text-lg italic text-gray-800 dark:text-black">
          â€œLos mejores pasteles que he probado.â€
        </p>
        <h4 class="mt-4 font-bold text-orange-600 dark:text-orange-300">
          â€” Ana LÃ³pez
        </h4>
      </div>

      <div class="glass p-6 rounded-2xl shadow-xl text-center">
        <p class="text-lg italic text-gray-800 dark:text-black">
          â€œAtenciÃ³n excelente y productos deliciosos.â€
        </p>
        <h4 class="mt-4 font-bold text-orange-600 dark:text-orange-300">
          â€” Carlos Rivera
        </h4>
      </div>

      <div class="glass p-6 rounded-2xl shadow-xl text-center">
        <p class="text-lg italic text-gray-800 dark:text-black">
          â€œMis fiestas nunca son iguales sin sus pasteles.â€
        </p>
        <h4 class="mt-4 font-bold text-orange-600 dark:text-orange-300">
          â€” MarÃ­a Torres
        </h4>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer
    class="mt-32 bg-orange-600 text-white py-10 text-center shadow-inner fade-up dark:bg-orange-800"
  >
    <h3 class="text-2xl font-bold">ReposterÃ­a D'Rossy</h3>
    <p class="text-sm mt-2">Delicias que alegran tus dÃ­as.</p>

    <div class="flex gap-6 justify-center mt-5 text-3xl">
      <a>ğŸ“˜</a>
      <a>ğŸ“¸</a>
      <a>ğŸ’¬</a>
    </div>

    <p class="text-sm mt-6 opacity-80">
      Â© 2025 Todos los derechos reservados"Rossy".
    </p>
  </footer>

  <!-- SCRIPTS -->
  <script>
    /* â€”â€”â€”â€”â€” ANIMACIÃ“N AL SCROLL â€”â€”â€”â€”â€” */
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((e) => {
          if (e.isIntersecting) e.target.classList.add("visible");
        });
      },
      { threshold: 0.2 }
    );
    document.querySelectorAll(".fade-up").forEach((el) => observer.observe(el));

    /* â€”â€”â€”â€”â€” SLIDER PRINCIPAL â€”â€”â€”â€”â€” */
    let index = 0;
    setInterval(() => {
      index = (index + 1) % 3;
      document.getElementById("slider").style.transform =
        "translateX(" + -index * 100 + "%)";
    }, 3500);

    /* â€”â€”â€”â€”â€” SLIDER NUEVOS â€”â€”â€”â€”â€” */
    let index2 = 0;
    setInterval(() => {
      index2 = (index2 + 1) % 3;
      document.getElementById("sliderNuevos").style.transform =
        "translateX(" + -index2 * 100 + "%)";
    }, 3200);

    /* â€”â€”â€”â€”â€” POPUP PROMOCIÃ“N â€”â€”â€”â€”â€” */
    const promo = document.getElementById("promoPopup");
    const closePromo = document.getElementById("closePromo");

    window.onload = () => {
      promo.classList.remove("hidden");
    };

    closePromo.onclick = () => {
      promo.classList.add("hidden");
    };

    /* â€”â€”â€”â€”â€” SISTEMA DE TEMAS â€”â€”â€”â€”â€” */
    const modeSelect = document.getElementById("modeSelect");
    const snowCanvas = document.getElementById("snowCanvas");

    function activarTema(theme) {
      document.body.className = theme;

      if (theme === "navidad") {
        snowCanvas.classList.remove("hidden");
        iniciarNieve();
      } else {
        snowCanvas.classList.add("hidden");
      }
    }

    modeSelect.addEventListener("change", () =>
      activarTema(modeSelect.value)
    );

    /* â€”â€”â€”â€”â€” MODO OSCURO AUTOMÃTICO â€”â€”â€”â€”â€” */
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      document.documentElement.classList.add("dark");
    }

    /* â€”â€”â€”â€”â€” NIEVE â€”â€”â€”â€”â€” */
    let flakes = [];

    function iniciarNieve() {
      const ctx = snowCanvas.getContext("2d");
      snowCanvas.width = innerWidth;
      snowCanvas.height = innerHeight;

      flakes = Array.from({ length: 150 }).map(() => ({
        x: Math.random() * innerWidth,
        y: Math.random() * -innerHeight,
        s: Math.random() * 4 + 1,
        v: Math.random() * 1 + 0.5,
      }));

      function update() {
        ctx.clearRect(0, 0, innerWidth, innerHeight);
        flakes.forEach((f) => {
          f.y += f.v;
          if (f.y > innerHeight) f.y = -10;
          ctx.beginPath();
          ctx.arc(f.x, f.y, f.s, 0, Math.PI * 2);
          ctx.fillStyle = "white";
          ctx.fill();
        });
        requestAnimationFrame(update);
      }

      update();
    }
  </script>
</BaseLayout>
